## Approach 
```python 
class Solution:

	def diameterOfBinaryTree(self, root: Optional[TreeNode]) -> int:
		
		def diameter(root):
			if not root:
				return 0
			
			return max(
				diameter(root.left),
				diameter(root.right)
			) + 1
			
		return diameter(root)
```

##### Correction 
- This only returns the longest path of the binary tree - what is required is using `nonlocal` to store the longest diameter

```python 
class Solution:
	def diameterOfBinaryTree(self, root: Optional[TreeNode]) -> int:
		
		res = 0
		
		def diameter(root):
			
			nonlocal res
			
			if not root:
				return 0
			
			left = diameter(root.left)
			right = diameter(root.right)
			
			res = max(res, left + right)
			
			return max(
				left, right
			) + 1
		
		diameter(root)
		return res
```